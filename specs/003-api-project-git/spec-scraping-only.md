# 機能仕様: ETC明細スクレイピング機能

**機能ブランチ**: `003-api-project-git-simplified`
**作成日**: 2025-09-19
**ステータス**: Active
**スコープ**: Webスクレイピング機能のみ

## 概要

ETC明細をWebサイトからスクレイピングしてCSVファイルとして保存する、シンプルなスクレイピング専用機能。データベース統合、API、マッチング機能は除外。

## ユーザーシナリオ

### 主要ユーザーストーリー
開発者として、ETCポータルサイトから明細データをスクレイピングし、CSVファイルとしてダウンロードできるシンプルなツールが欲しい。

### 受け入れシナリオ
1. **Given** ETCアカウント情報がある、**When** スクレイピングを実行する、**Then** 明細データがCSVファイルとして保存される
2. **Given** 複数のETCアカウントがある、**When** バッチ実行する、**Then** 各アカウントのCSVファイルが生成される
3. **Given** 日付範囲を指定、**When** スクレイピング実行、**Then** 指定期間のデータのみ取得される

## 要件

### 機能要件
- **FR-001**: ETCポータルサイトにログインできる
- **FR-002**: 指定期間の明細データをスクレイピングできる
- **FR-003**: スクレイピングしたデータをCSVファイルとして保存できる
- **FR-004**: 複数アカウントを順次処理できる
- **FR-005**: エラー時にリトライ機能がある

### 非機能要件
- **NFR-001**: 1アカウントあたり5分以内で処理完了
- **NFR-002**: エラーログを出力する
- **NFR-003**: 環境変数でアカウント情報を管理

## スコープ外

以下の機能は含まない：
- データベース保存
- APIエンドポイント
- データマッチング機能
- 統計・レポート機能
- Web UI

## 主要エンティティ

### ETCAccount
- UserID: ログインID
- Password: パスワード
- Type: corporate/personal

### ETCMeisai
- 利用日
- 入口/出口IC
- 料金
- 車両番号
- ETCカード番号

### CSVFile
- ファイルパス
- アカウントID
- 期間
- レコード数

---
*シンプル化された仕様 - スクレイピング機能のみ*